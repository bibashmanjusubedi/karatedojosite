<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dojo Admin Panel</title>
  <link rel="stylesheet" href="admin.css">
</head>
<body>
  <div class="container">
    <h1>Karate Dojo Admin Panel</h1>
    <nav>
      <button onclick="showSection('dojo')">Dojo Info</button>
      <button onclick="showSection('subscribers')">Subscribers</button>
      <button onclick="showSection('programs')">Programs</button>
      <button onclick="showSection('instructors')">Instructors</button>
      <button onclick="showSection('highlights')">Highlights</button>
      <button onclick="showSection('admins')">Admins</button>
    </nav>
    
    <!-- Dojo Info Section -->
    <section id="dojo" class="admin-section">
      <h2>Dojo General Info</h2>
      <form id="dojoForm">
        <input type="text" id="dojoName" placeholder="Dojo Name" required>
        <input type="text" id="dojoHeroTitle" placeholder="Hero Title">
        <input type="text" id="dojoHeroSubtitle" placeholder="Hero Subtitle">
        <input type="text" id="dojoHeroImageUrl" placeholder="Hero Image URL">
        <input type="date" id="dojoEstablishedDate" placeholder="Established Date">
        <textarea id="dojoDescription" placeholder="Description"></textarea>
        <button type="submit">Save/Update Dojo Info</button>
      </form>
      <div id="dojoInfo"></div>
      <div style="margin-top: 1.5rem;">
        <button id="viewDojoBtn" class="view">View Dojo</button>
        <button id="deleteDojoBtn" class="delete">Delete Dojo</button>
      </div>
    </section>

    
    <!-- Subscribers Section -->
    <section id="subscribers" class="admin-section" style="display:none;">
      <h2>Newsletter Subscribers</h2>
      <table id="subscribersTable">
        <thead>
          <tr>
            <th>ID</th>
            <th>Email</th>
            <th>Subscribed At</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Programs Section -->
    <section id="programs" class="admin-section" style="display:none;">
      <h2>Martial Arts Programs</h2>
      <form id="programForm">
        <input type="hidden" id="programId">
        <input type="text" id="programName" placeholder="Program Name" required>
        <textarea id="programDescription" placeholder="Description"></textarea>
        <input type="text" id="programImageUrl" placeholder="Image URL">
        <input type="file" id="programImageBlob">
        <input type="text" id="programPricing" placeholder="program Pricing">
        <button type="submit">Add/Update Program</button>
        <button type="button" id="programCancelBtn" style="display:none;">Cancel</button>
      </form>
      <table id="programsTable">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Desc</th>
            <th>Image</th>
            <th>Pricing</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Instructors Section -->
    <section id="instructors" class="admin-section" style="display:none;">
      <h2>Instructors</h2>
      <form id="instructorForm">
        <input type="hidden" id="instructorId">
        <input type="text" id="instructorName" placeholder="Name" required>
        <input type="text" id="instructorRole" placeholder="Role" required>
        <input type="text" id="instructorPhone" placeholder="Phone">
        <input type="email" id="instructorEmail" placeholder="Email">
        <input type="text" id="instructorPhotoUrl" placeholder="Photo URL">
        <input type="file" id="instructorPhotoBlob">
        <button type="submit">Add/Update Instructor</button>
        <button type="button" id="instructorCancelBtn" style="display:none;">Cancel</button>
      </form>
      <table id="instructorsTable">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Role</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Photo</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Highlights Section -->
    <section id="highlights" class="admin-section" style="display:none;">
      <h2>Highlights</h2>
      <form id="highlightForm">
        <input type="hidden" id="highlightId">
        <input type="text" id="highlightTitle" placeholder="Title" required>
        <textarea id="highlightContent" placeholder="Content"></textarea>
        <button type="submit">Add/Update Highlight</button>
        <button type="button" id="highlightCancelBtn" style="display:none;">Cancel</button>
      </form>
      <table id="highlightsTable">
        <thead>
          <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Content</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>
  </div>

  <!-- Admins Section -->
  <section id="admins" class="admin-section" style="display:none;">
    <h2>Admins</h2>
    <form id="adminForm">
      <input type="text" id="adminUsername" placeholder="Username" required />
    
      <!-- Only shown when registering (creating first admin) -->
      <input type="password" id="adminCreatePassword" placeholder="Password" style="display:block;" />
    
      <!-- Only shown when updating -->
      <input type="password" id="adminCurrentPassword" placeholder="Current Password" style="display:none;" />
      <input type="password" id="adminNewPassword" placeholder="New Password" style="display:none;" />
    
      <button type="submit">Save/Update Admin</button>
      <button type="button" id="adminCancelBtn" style="display:none;">Cancel</button>
    </form>
    
    
    
    <table id="adminsTable">
      <thead>
        <tr>
          <th>ID</th>
          <th>Username</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

 
  <div id="dojoModal" class="modal" style="display:none;">
    <div class="modal-content" style="background:#fff; padding:20px; max-width:400px; border-radius:7px;">
      <span id="dojoModalClose" style="float:right;cursor:pointer;">&times;</span>
      <div id="dojoModalBody"></div>
    </div>
  </div>

    <!-- Add this new modal for programs -->
    <div id="programModal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; align-items:center; justify-content:center; background:rgba(0,0,0,0.4); z-index:1000;">
      <div class="modal-content" style="background:#fff; padding:20px; max-width:400px; border-radius:7px; position:relative;">
        <span id="programModalClose" style="position:absolute; top:8px; right:8px; cursor:pointer; font-size:24px;">&times;</span>
        <div id="programModalBody"></div>
      </div>
    </div>

    <div id="instructorModal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; align-items:center; justify-content:center; background:rgba(0,0,0,0.4); z-index:1000;">
      <div class="modal-content" style="background:#fff; padding:20px; max-width:400px; border-radius:7px; position:relative;">
        <span id="instructorModalClose" style="position:absolute; top:8px; right:8px; cursor:pointer; font-size:24px;">&times;</span>
        <div id="instructorModalBody"></div>
      </div>
    </div>

    <!-- <div id="adminModal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; align-items:center; justify-content:center; background:rgba(0,0,0,0.4); z-index:1000;">
      <div class="modal-content" style="background:#fff; padding:20px; max-width:400px; border-radius:7px; position:relative;">
        <span id="adminModalClose" style="position:absolute; top:8px; right:8px; cursor:pointer; font-size:24px;">&times;</span>
        <div id="adminModalBody"></div>
      </div>
    </div> -->
    <!-- Admin View Modal -->
  <div id="adminViewModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.5); align-items:center; justify-content:center;">
    <div style="background:#fff; padding:1em 2em; border-radius:8px; min-width:220px; max-width:90vw; margin:auto;">
      <span id="adminViewModalClose" style="float:right; cursor:pointer;">&times;</span>
      <div id="adminViewModalBody"></div>
    </div>
  </div>

    
  <script src="admin.js"></script>
</body>
</html>
